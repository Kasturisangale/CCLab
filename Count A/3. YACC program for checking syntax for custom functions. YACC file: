
%{
#include <stdio.h>
#include <stdlib.h>

int yylex(void);
void yyerror(const char *s);
%}

%token INT VOID ID NUM SEMI LPAREN RPAREN LBRACE RBRACE COMMA ASSIGN

%%

program : func
        ;

func : type ID LPAREN params RPAREN LBRACE body RBRACE
     { printf("Valid function syntax\n"); }
     ;

type : INT
     | VOID
     ;

params : param_list
       | /* empty */
       ;

param_list : param
           | param_list COMMA param
           ;

param : type ID
      ;

body : stmt_list
     ;

stmt_list : stmt_list stmt
          | stmt
          ;

stmt : ID ASSIGN NUM SEMI
     | ID ASSIGN ID SEMI
     ;

%%

int main() {
    printf("Enter a function declaration:\n");
    if (yyparse() == 0)
        printf("Syntax OK!\n");
    return 0;
}

void yyerror(const char *s) {
    printf("Syntax Error: %s\n", s);
}
Lex file:
%{
#include "y.tab.h"
#include <stdlib.h>
%}

%%
"int"           { return INT; }
"void"          { return VOID; }
"("             { return LPAREN; }
")"             { return RPAREN; }
"{"             { return LBRACE; }
"}"             { return RBRACE; }
";"             { return SEMI; }
","             { return COMMA; }
"="             { return ASSIGN; }
[0-9]+          { yylval = atoi(yytext); return NUM; }
[a-zA-Z_][a-zA-Z0-9_]* { return ID; }
[ \t\n]+        ;  /* ignore whitespace */
.               { return yytext[0]; }
%%

int yywrap() { return 1; }
